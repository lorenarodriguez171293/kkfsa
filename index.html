<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simuladores de Energía (Iconos)</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    
    <style>
        /* ESTILOS BASE */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            background-color: #f4f7f9;
            height: 100vh;
            transition: all 0.3s ease;
        }
        #app-container {
            display: flex;
            flex-direction: column;
            height: 100%;
        }

        /* HEADER Y SELECTOR DE ICONOS */
        header {
            background-color: #2c3e50;
            color: white;
            padding: 45px 20px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            z-index: 10;
            transition: all 0.3s ease;
        }

        h1 {
            margin: 0 0 10px 0;
            font-size: 1.5rem;
            text-align: center;
        }

        #icon-selector {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 15px;
            transition: all 0.3s ease;
        }

        .sim-link {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            color: white;
            text-decoration: none;
            padding: 8px 12px;
            border-radius: 8px;
            transition: background-color 0.2s, transform 0.1s;
            width: 90px;
            min-height: 70px;
        }

        .sim-link:hover, .sim-link.active {
            background-color: rgba(255, 255, 255, 0.15);
            transform: translateY(-2px);
        }

        .sim-link i {
            font-size: 1.8rem;
            margin-bottom: 5px;
            color: #4CAF50;
        }

        .sim-link span {
            font-size: 0.75rem;
            line-height: 1.1;
        }

        /* CONTENEDOR PRINCIPAL */
        main {
            flex-grow: 1;
            padding: 0;
            overflow: hidden;
        }
        #simulador-frame {
            width: 100%;
            height: 100%;
            border: none;
            transition: all 0.3s ease;
        }

        /* Icono de inicio */
        .home-link i { color: #f39c12 !important; }
        .home-link:hover { background-color: rgba(243, 156, 18, 0.2) !important; }

        
        /* -------------------------------------------- */
        /*     MODO PANTALLA COMPLETA PARA CELULARES    */
        /* -------------------------------------------- */
        @media (max-width: 768px) {

            body.fullscreen-mode header {
                height: auto;
                padding: 12px 10px;
            }

            body.fullscreen-mode #icon-selector {
                display: flex;
                overflow-x: auto;
                flex-wrap: nowrap;
                gap: 12px;
                padding: 5px 10px;
            }

            /* ICONOS MÁS GRANDES EN CELULAR */
            body.fullscreen-mode .sim-link {
                width: 70px;
                min-height: 70px;
                padding: 8px;
                border-radius: 12px;
            }

            body.fullscreen-mode .sim-link i {
                font-size: 2.2rem;
            }

            body.fullscreen-mode .sim-link span {
                display: block;
                font-size: 0.75rem;
                margin-top: 4px;
            }

            /* IFRAME AJUSTADO PARA CELULAR */
            body.fullscreen-mode #simulador-frame {
                position: fixed;
                top: 110px;
                left: 0;
                width: 100vw;
                height: calc(100vh - 160px);
                z-index: 5;
            }

            /* BOTÓN SALIR */
            #exit-fullscreen {
                display: none;
                position: fixed;
                bottom: 10px;
                right: 10px;
                z-index: 50;
                background: #e74c3c;
                color: white;
                padding: 12px 18px;
                border-radius: 8px;
                font-size: 1rem;
                font-weight: bold;
                box-shadow: 0 4px 10px rgba(0,0,0,0.3);
                border: none;
            }

            body.fullscreen-mode #exit-fullscreen {
                display: block;
            }
        }
    </style>
</head>
<body>

    <div id="app-container">
        <header>
            <h1>  Simuladores de Energías Alternativas  </h1>
            
            <div id="icon-selector">
                <a href="#" class="sim-link home-link active" onclick="cargarSimulador('intro.html', event, true)" title="Información y Matriz Energética">
                    <i class="fas fa-chart-pie"></i>
                    <span>Inicio/Info</span>
                </a>
            </div>
        </header>

        <main>
            <iframe id="simulador-frame" title="Contenido del Dashboard" src="intro.html"></iframe>
        </main>
    </div>

    <!-- BOTÓN SALIR DE PANTALLA COMPLETA -->
    <button id="exit-fullscreen" onclick="salirPantallaCompleta()">Salir</button>

    <script>
        const simuladores = [
            { name: "Mapa Interactivo", key: "mapa", path: "https://lorenarodriguez171293.github.io/mapainteractivo01/", icon: "fas fa-map-marked-alt", tooltip: "Mapa de proyectos energéticos en Argentina" },
            { name: "Consumo Hogar", key: "consumo", path: "https://lorenarodriguez171293.github.io/casaconsumo/", icon: "fas fa-home", tooltip: "Calculadora de consumo eléctrico doméstico" },
            { name: "Eólico", key: "eolico", path: "https://lorenarodriguez171293.github.io/eolica01/", icon: "fas fa-wind", tooltip: "Simulador de producción eólica" },
            { name: "Fotovoltaico", key: "fotovol", path: "https://lorenarodriguez171293.github.io/fotovol/", icon: "fas fa-solar-panel", tooltip: "Simulador de panel solar fotovoltaico" },
            { name: "Hidroeléctrico", key: "hidro", path: "https://lorenarodriguez171293.github.io/hidro/", icon: "fas fa-water", tooltip: "Demostración de energía hidráulica" },
            { name: "Nuclear", key: "nuclear", path: "https://lorenarodriguez171293.github.io/NU1/", icon: "fas fa-atom", tooltip: "Simulador de energía nuclear por fisión" },
            { name: "Biocombustibles", key: "bio", path: "https://lorenarodriguez171293.github.io/biodisel/", icon: "fas fa-leaf", tooltip: "Simulador de mezcla de biodiesel (B%)" },
            { name: "Autoevaluación", key: "eval", path: "https://lorenarodriguez171293.github.io/autoeva/", icon: "fas fa-clipboard-list", tooltip: "Cuestionario de autoevaluación" },
        ];

        const frame = document.getElementById('simulador-frame');
        const selectorContainer = document.getElementById('icon-selector');

        /* -------------------------------
           GENERAR LOS ICONOS DINÁMICOS
        -------------------------------- */
        function generarSelector() {
            simuladores.forEach(sim => {
                const link = document.createElement('a');
                
                link.href = "#";
                link.classList.add('sim-link');
                link.title = sim.tooltip;
                
                link.innerHTML = `<i class="${sim.icon}"></i><span>${sim.name}</span>`;

                link.addEventListener('click', (e) => {
                    cargarSimulador(sim.path, e);
                });

                selectorContainer.appendChild(link);
            });
        }

        document.addEventListener('DOMContentLoaded', generarSelector);


        /* ------------------------------------------------
           FUNCIÓN ORIGINAL + MODO FULLSCREEN CELULAR
        ------------------------------------------------- */

        const cargarSimuladorOriginal = function(path, event, isHome){
            if (event) event.preventDefault();

            frame.src = path;

            document.querySelectorAll('.sim-link').forEach(btn => btn.classList.remove('active'));

            if (event) {
                event.currentTarget.classList.add('active');
            } else if (isHome) {
                document.querySelector('.home-link').classList.add('active');
            }
        };

        window.cargarSimulador = function(path, event, isHome = false) {
            cargarSimuladorOriginal(path, event, isHome);

            if (isHome) {
                document.body.classList.remove("fullscreen-mode");
            } else {
                if (window.innerWidth <= 768) {
                    document.body.classList.add("fullscreen-mode");
                }
            }
        };

        function salirPantallaCompleta() {
            document.body.classList.remove("fullscreen-mode");
        }
    </script>
</body>
</html>
